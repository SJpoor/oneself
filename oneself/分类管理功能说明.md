# 分类管理功能说明

## 功能概述

在记一笔页面中新增了完整的分类管理功能，用户可以：

1. **添加新分类** - 创建自定义分类，选择图标和颜色
2. **编辑分类** - 修改分类名称、图标和颜色
3. **删除分类** - 删除自定义分类（系统默认分类不能删除）
4. **分类管理** - 统一管理所有分类

## 功能特性

### 1. 分类颜色管理
- 提供30种预设颜色供选择
- 每个分类都有独特的颜色用于区分
- 颜色会在饼状图和其他统计图表中使用

### 2. 图标管理
- 提供35个常用emoji图标
- 涵盖餐饮、交通、购物、娱乐等各个分类
- 支持直观的图标选择界面

### 3. 分类类型支持
- 支持收入和支出两种类型的分类
- 根据当前记录类型显示对应分类
- 自动切换分类列表

## 界面设计

### 1. 分类选择区域
- 在原有分类网格中添加"添加分类"按钮
- 右上角添加"管理"按钮进入分类管理
- 保持原有的分类选择交互

### 2. 分类管理弹窗
- 列表形式展示所有分类
- 每个分类显示图标、名称和操作按钮
- 自定义分类可编辑和删除，系统分类只能编辑

### 3. 分类编辑弹窗
- 分类名称输入框
- 6x6图标选择网格
- 6x5颜色选择网格
- 取消/保存操作按钮

## 技术实现

### 1. 数据管理器扩展
- `addCategory(categoryData)` - 添加新分类
- `updateCategory(id, updateData)` - 更新分类
- `deleteCategory(id)` - 删除分类（软删除）

### 2. 数据模型更新
- Category模型添加`updatedAt`字段
- 支持分类的完整生命周期管理

### 3. 界面组件
- 响应式的弹窗设计
- 美观的颜色和图标选择器
- 流畅的交互动画

## 使用说明

1. **添加分类**：
   - 在分类选择区域点击"添加分类"按钮
   - 输入分类名称，选择图标和颜色
   - 点击"添加"保存

2. **编辑分类**：
   - 点击"管理"按钮进入分类管理
   - 点击要编辑的分类的"编辑"按钮
   - 修改名称、图标或颜色后保存

3. **删除分类**：
   - 在分类管理中点击自定义分类的"删除"按钮
   - 确认删除（注意：有交易记录的分类无法删除）

## 数据安全

- 使用软删除机制，数据不会真正丢失
- 删除前检查是否有关联的交易记录
- 自动数据同步和备份机制

## 颜色方案

提供了30种精心挑选的颜色，包括：
- 暖色调：红、橙、黄系列
- 冷色调：蓝、绿、紫系列  
- 中性色：灰、棕色系列
- 确保在各种背景下都有良好的对比度和可读性